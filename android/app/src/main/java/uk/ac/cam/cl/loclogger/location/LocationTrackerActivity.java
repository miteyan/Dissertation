package uk.ac.cam.cl.loclogger.location;

import android.Manifest;
import android.accounts.Account;
import android.accounts.AccountManager;
import android.app.Activity;
import android.content.ContentResolver;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.pm.PackageManager;
import android.os.AsyncTask;
import android.os.Bundle;
import android.preference.PreferenceManager;
import android.support.annotation.NonNull;
import android.support.v4.app.ActivityCompat;
import android.support.v4.content.ContextCompat;
import android.support.v4.content.PermissionChecker;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.ScrollView;
import android.widget.TextView;
import android.view.ViewGroup.LayoutParams;

import com.commonsware.cwac.wakeful.WakefulIntentService;

import org.json.JSONObject;

import java.io.BufferedReader;
import java.io.DataOutputStream;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.URL;
import java.text.ParseException;
import java.util.ArrayList;
import java.util.Arrays;

import javax.net.ssl.HttpsURLConnection;

import uk.ac.cam.cl.loclogger.ApplicationConstants;
import uk.ac.cam.cl.loclogger.R;
import uk.ac.cam.cl.loclogger.alarms.ServiceAlarm;
import uk.ac.cam.cl.loclogger.logging.FileLogger;
import uk.cam.ac.uk.mp781.clustering.Clustering;


public class LocationTrackerActivity extends Activity {

    private static Activity activity;
    private static TextView logview = null;
    public static String inserted_userid= "000030";
    public static String received_passwd = null;

    // The authority for the sync adapter's (dummy) content provider
    public static final String AUTHORITY = "uk.ac.cam.cl.loclogger.provider";

    public static Account getUserAccount(Context context) {
        // Get the user account (required for sync, doesn't do anything else), or create
        // one if it doesn't exist.
        Account[] accounts = AccountManager.get(context).getAccountsByType(ApplicationConstants.ACCOUNT_TYPE);
        if (accounts.length < 1) {
            return createSyncAccount(context);
        }
        else {
            return accounts[0]; // Should only be one account.
        }
    }

    public static String getUserID(Context context) {
        // Get ID for current user, required for file naming.
        SharedPreferences sPrefs = PreferenceManager.getDefaultSharedPreferences(context);
        return sPrefs.getString(ApplicationConstants.KEY_UUID, null);
    }

    public static void appendToLogView(final String text) {
        if (logview != null)
        {
            activity.runOnUiThread(() -> {
                // This code will always run on the UI thread, therefore is safe to modify UI elements.
                logview.append(text+"\n");
            });
        }
    }

    public static Account createSyncAccount(Context context) {
        Account newAccount = new Account(inserted_userid, ApplicationConstants.ACCOUNT_TYPE);
        AccountManager accountManager = (AccountManager) context.getSystemService(ACCOUNT_SERVICE);
        boolean success = accountManager.addAccountExplicitly(newAccount, received_passwd, null);
        if (success) {
            // Inform the system that this account supports sync
            ContentResolver.setIsSyncable(newAccount, AUTHORITY, 1);
            // Inform the system that this account is eligible for auto sync  (NEW CODE)
            ContentResolver.setSyncAutomatically(newAccount, AUTHORITY, true);
            // Recommend a schedule for auto sync
            Bundle bundle = new Bundle();
            //bundle.putBoolean(ContentResolver.SYNC_EXTRAS_MANUAL, true);
            //bundle.putBoolean(ContentResolver.SYNC_EXTRAS_EXPEDITED, true);
            FileLogger.log("Set up sync requests.", context);
            ContentResolver.addPeriodicSync(
                    newAccount,
                    AUTHORITY,
                    bundle,
                    ApplicationConstants.UPLOAD_INTERVAL_SECONDS);

            return newAccount;
        }
        else {
            return null;
        }
    }

    @Override protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.locationtrackeractivity);

        activity = this;
        inserted_userid = "000030";

        // Check that we have permission to get location, if not, ask for permission.
        int permissionCheck =
                ContextCompat.checkSelfPermission(activity, Manifest.permission.ACCESS_FINE_LOCATION);
        if (permissionCheck != PermissionChecker.PERMISSION_GRANTED) {
            ActivityCompat.requestPermissions(activity,
                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},
                    ApplicationConstants.LOCATION_PERMISSIONS_CODE);
        }
        else {
            // Start the location logging service.
            Log.d("MYINFO","onClick: Starting Service (we already have permission)");
            startService(activity.getApplicationContext());
        }
    }

    @Override protected void onResume() {
        super.onResume();
        setContentView(R.layout.locationtrackeractivity);

        Button btn = (Button)findViewById(R.id.graph_button);
        btn.setOnClickListener(v -> {
            Toast.makeText(this,  "Location logging is active.", Toast.LENGTH_SHORT).show();

            Context context = getApplicationContext();
            ArrayList<String> result = new ArrayList<>(); //ArrayList cause you don't know how many files there is
            String[] filesInFolder = context.fileList(); // This returns all the folders and files in your path
            //For each of the entries do:
            //push the filename as a string
            result.addAll(Arrays.asList(filesInFolder));

            String fileName = FileLogger.getFilename();
            String locationAndTimes = FileLogger.readFromFile(fileName, context);

            System.out.println(locationAndTimes);
            try {
                String edgelist = Clustering.cluster(locationAndTimes, 5, 5);
                ScrollView scroller = new ScrollView(this);
                logview=new TextView(scroller.getContext());
                logview.setSingleLine(false);
                scroller.addView(logview);
                setContentView(scroller);
                logview.setText(edgelist);
            } catch (IOException e) {
                e.printStackTrace();
            } catch (ParseException e) {
                e.printStackTrace();
            }
        });


        Button btn2 = (Button) findViewById(R.id.button2);
        btn2.setOnClickListener(view -> {

            String x = "2009-09-07 10:48:11,46.1,7.08\t2009-09-07 10:49:11,46.11,7.0842\t2009-09-07 10:50:11,46.11,7.0842\t2009-09-07 11:03:13,46.11,7.0842\t2009-09-07 11:07:13,46.11,7.0842\t2009-09-07 11:08:13,46.11,7.0842\t2009-09-07 11:10:13,46.11,7.0842\t2009-09-07 11:12:13,46.11,7.0842\t2009-09-07 11:14:13,46.11,7.0842\t2009-09-07 11:16:13,46.11,7.0842\t2009-09-07 11:18:13,46.11,7.0842\t2009-09-07 11:20:13,46.11,7.0842\t2009-09-07 11:22:13,46.11,7.0842\t2009-09-07 11:25:13,46.11,7.0842\t2009-09-07 11:28:16,46.11,7.0842\t2009-09-07 11:41:16,46.11,7.0842\t2009-09-07 11:42:16,46.11,7.0842\t2009-09-07 11:45:17,46.11,7.0842\t2009-09-07 11:47:17,46.11,7.0842\t2009-09-07 11:48:17,46.11,7.0842\t2009-09-07 11:51:17,46.11,7.0842\t2009-09-07 11:52:17,46.11,7.0842\t2009-09-07 11:54:17,46.11,7.0842\t2009-09-07 11:57:20,46.11,7.0842\t2009-09-07 11:58:20,46.11,7.0842\t2009-09-07 12:00:20,46.11,7.0842\t2009-09-07 12:02:20,46.1,7.08\t2009-09-07 12:05:20,46.11,7.0842\t2009-09-07 12:06:20,46.11,7.0842\t2009-09-07 12:08:20,46.11,7.0842\t2009-09-07 12:17:20,46.11,7.0842\t2009-09-07 12:19:20,46.11,7.0842\t2009-09-07 12:20:20,46.11,7.0842\t2009-09-07 12:22:20,46.1,7.08\t2009-09-07 12:24:20,46.11,7.0842\t2009-09-07 12:26:23,46.11,7.0842\t2009-09-07 12:28:23,46.11,7.0842\t2009-09-07 12:30:23,46.11,7.0842\t2009-09-07 12:32:23,46.11,7.0842\t2009-09-07 12:34:23,46.11,7.0842\t2009-09-07 12:38:23,46.11,7.0842\t2009-09-07 12:40:23,46.11,7.0842\t2009-09-07 12:42:23,46.11,7.0842\t2009-09-07 12:43:23,46.11,7.0842\t2009-09-07 12:45:23,46.11,7.0842\t2009-09-07 12:47:23,46.11,7.0842\t2009-09-07 12:50:23,46.11,7.0842\t2009-09-07 12:51:23,46.11,7.0842\t2009-09-07 12:53:23,46.11,7.0842\t2009-09-07 12:55:23,46.11,7.0842\t2009-09-07 12:58:26,46.11,7.0842\t2009-09-07 12:59:26,46.11,7.0842\t2009-09-07 13:13:26,46.11,7.0842\t2009-09-07 13:14:26,46.11,7.0842\t2009-09-07 13:16:26,46.11,7.0842\t2009-09-07 13:19:26,46.11,7.0842\t2009-09-07 13:21:26,46.11,7.0842\t2009-09-07 13:23:26,46.11,7.0842\t2009-09-07 13:24:26,46.11,7.0842\t2009-09-07 13:26:30,46.11,7.0842\t2009-09-07 13:28:30,46.11,7.0842\t2009-09-07 13:31:30,46.11,7.0842\t2009-09-07 13:32:30,46.11,7.0842\t2009-09-07 13:34:30,46.11,7.0842\t2009-09-07 13:36:30,46.1,7.08\t2009-09-07 13:38:30,46.11,7.0842\t2009-09-07 13:40:30,46.11,7.0842\t2009-09-07 13:42:30,46.11,7.0842\t2009-09-07 13:44:30,46.11,7.0842\t2009-09-07 13:47:30,46.11,7.0842\t2009-09-07 13:48:30,46.11,7.0842\t2009-09-07 13:50:30,46.11,7.0842\t2009-09-07 13:52:30,46.11,7.0842\t2009-09-07 13:54:30,46.11,7.0842\t2009-09-07 13:57:32,46.11,7.0842\t2009-09-07 13:58:32,46.11,7.0842\t2009-09-07 14:00:32,46.11,7.0842\t2009-09-07 14:02:32,46.11,7.0842\t2009-09-07 14:05:32,46.11,7.0842\t2009-09-07 14:06:32,46.11,7.0842\t2009-09-07 14:08:32,46.11,7.0842\t2009-09-07 14:10:32,46.1,7.08\t2009-09-07 14:12:32,46.11,7.0842\t2009-09-07 14:14:32,46.11,7.0842\t2009-09-07 14:16:32,46.11,7.0842\t2009-09-07 14:18:32,46.11,7.0842\t2009-09-07 14:22:33,46.11,7.0842\t2009-09-07 14:24:33,46.1,7.08\t2009-09-07 14:26:36,46.1,7.08\t2009-09-07 14:29:36,46.11,7.0842\t2009-09-07 14:30:36,46.11,7.0842\t2009-09-07 14:32:36,46.11,7.0842\t2009-09-07 14:34:36,46.11,7.0842\t2009-09-07 14:36:36,46.11,7.0842\t2009-09-07 14:38:36,46.11,7.0842\t2009-09-07 14:42:36,46.11,7.0842\t2009-09-07 14:43:36,46.11,7.0842\t2009-09-07 14:45:36,46.11,7.0842\t2009-09-07 14:47:36,46.11,7.0842\t2009-09-07 14:49:36,46.11,7.0842\t2009-09-07 14:53:36,46.11,7.0842\t2009-09-07 14:54:36,46.11,7.0842\t2009-09-07 14:57:39,46.11,7.0842\t2009-09-07 14:58:39,46.11,7.0842\t2009-09-07 15:00:39,46.1,7.08\t2009-09-07 15:02:39,46.11,7.0842\t2009-09-07 15:04:40,46.11,7.0842\t2009-09-07 15:06:40,46.11,7.0842\t2009-09-07 15:08:40,46.11,7.0842\t2009-09-07 15:10:40,46.11,7.0842\t2009-09-07 15:13:40,46.11,7.0842\t2009-09-07 15:14:40,46.11,7.0842\t2009-09-07 15:16:40,46.11,7.0842\t2009-09-07 15:18:40,46.11,7.0842\t2009-09-07 15:20:40,46.11,7.0842\t2009-09-07 15:23:40,46.1,7.08\t2009-09-07 15:24:40,46.11,7.0842\t2009-09-07 15:26:42,46.11,7.0842\t2009-09-07 15:28:42,46.11,7.0842\t2009-09-07 15:30:42,46.11,7.0842\t2009-09-07 15:32:42,46.11,7.0842\t2009-09-07 15:34:42,46.11,7.0842\t2009-09-07 15:36:42,46.1,7.08\t2009-09-07 15:38:42,46.11,7.0842\t2009-09-07 15:40:42,46.11,7.0842\t2009-09-07 15:42:42,46.11,7.0842\t2009-09-07 15:44:42,46.11,7.0842\t2009-09-07 15:46:43,46.11,7.0842\t2009-09-07 15:49:43,46.11,7.0842\t2009-09-07 15:50:43,46.11,7.0842\t2009-09-07 15:52:43,46.11,7.0842\t2009-09-07 15:54:43,46.1,7.08\t2009-09-07 15:57:46,46.11,7.0842\t2009-09-07 15:59:46,46.11,7.0842\t2009-09-07 16:00:46,46.11,7.0842\t2009-09-07 16:02:46,46.11,7.0842\t2009-09-07 16:04:46,46.11,7.0842\t2009-09-07 16:07:46,46.11,7.0842\t2009-09-07 16:08:46,46.11,7.0842\t2009-09-07 16:11:46,46.11,7.0842\t2009-09-07 16:12:46,46.11,7.0842\t2009-09-07 16:14:46,46.11,7.0842\t2009-09-07 16:17:46,46.1,7.08\t2009-09-07 16:30:53,46.11,7.0842\t2009-09-07 16:31:53,46.1,7.08\t2009-09-07 16:35:54,46.11,7.0842\t2009-09-07 16:36:54,46.11,7.0842\t2009-09-07 16:40:54,46.1,7.08\t2009-09-07 16:41:54,46.1,7.08\t2009-09-07 16:43:54,46.11,7.0842\t2009-09-07 16:45:54,46.1,7.08\t2009-09-07 16:49:54,46.11,7.0842\t2009-09-07 16:51:54,46.11,7.0842\t2009-09-07 16:53:54,46.11,7.0842\t2009-09-07 16:54:54,46.11,7.0842\t2009-09-07 16:56:56,46.1,7.08\t2009-09-07 17:10:56,46.1,7.08\t2009-09-07 17:11:56,46.11,7.0842\t2009-09-07 17:15:57,46.11,7.0842\t2009-09-07 17:29:00,46.11,7.0842\t2009-09-07 17:30:00,46.11,7.0842\t2009-09-07 17:35:00,46.1,7.08\t2009-09-07 17:36:00,46.11,7.0842\t2009-09-07 17:38:00,46.11,7.0842\t2009-09-07 17:41:04,46.11,7.0842\t2009-09-07 17:42:05,46.11,7.0842\t2009-09-07 17:46:05,46.11,7.0842\t2009-09-07 17:47:05,46.11,7.0842\t2009-09-07 17:50:05,46.11,7.0842\t2009-09-07 17:51:05,46.11,7.0842\t2009-09-07 17:55:05,46.1,7.08\t2009-09-07 17:56:05,46.11,7.0842\t2009-09-07 17:58:08,46.11,7.0842\t2009-09-07 18:00:08,46.11,7.0842\t2009-09-07 18:02:08,46.11,7.0842\t2009-09-07 18:04:08,46.1,7.08\t2009-09-07 18:06:08,46.1,7.08\t2009-09-09 09:43:20,46.516999999999996,6.627999999999999\t2009-09-09 09:44:01,46.51600000000001,6.627999999999999\t2009-09-09 10:49:12,46.1,7.08\t2009-09-09 10:50:12,46.11,7.0842\t2009-09-09 10:52:12,46.11,7.0842\t2009-09-09 10:54:13,46.1,7.08\t2009-09-09 10:57:13,46.11,7.0842\t2009-09-09 10:58:13,46.11,7.0842\t2009-09-09 11:01:17,46.11,7.0842\t2009-09-09 11:02:17,46.11,7.0842\t2009-09-09 11:05:17,46.11,7.0842\t2009-09-09 11:06:17,46.11,7.0842\t2009-09-09 11:08:17,46.11,7.0842\t2009-09-09 11:10:17,46.11,7.0842\t2009-09-09 11:13:17,46.11,7.0842\t2009-09-09 11:14:17,46.11,7.0842\t2009-09-09 11:16:17,46.11,7.0842\t2009-09-09 11:18:17,46.11,7.0842\t2009-09-09 11:20:17,46.11,7.0842\t2009-09-09 11:22:17,46.11,7.0842\t2009-09-09 11:26:17,46.11,7.0842\t2009-09-09 11:27:17,46.11,7.0842\t2009-09-09 11:30:20,46.11,7.0842\t2009-09-09 11:31:21,46.11,7.0842\t2009-09-09 11:33:21,46.1,7.08\t2009-09-09 11:36:21,46.11,7.0842\t2009-09-09 11:37:21,46.11,7.0842\t2009-09-09 11:39:21,46.11,7.0842\t2009-09-09 11:41:21,46.11,7.0842\t2009-09-09 11:44:21,46.11,7.0842\t2009-09-09 11:45:25,46.11,7.0842\t2009-09-09 11:47:25,46.11,7.0842\t2009-09-09 11:49:25,46.11,7.0842\t2009-09-09 11:51:25,46.11,7.0842\t2009-09-09 11:53:25,46.11,7.0842\t2009-09-09 11:55:25,46.11,7.0842\t2009-09-09 11:57:25,46.11,7.0842\t2009-09-09 11:59:25,46.11,7.0842\t2009-09-09 12:01:27,46.11,7.0842\t2009-09-09 12:03:27,46.11,7.0842\t2009-09-09 12:05:27,46.11,7.0842\t2009-09-09 12:08:27,46.11,7.0842\t2009-09-09 12:09:27,46.11,7.0842\t2009-09-09 12:12:27,46.11,7.0842\t2009-09-09 12:14:27,46.11,7.0842\t2009-09-09 12:16:27,46.11,7.0842\t2009-09-09 12:29:27,46.11,7.0842\t2009-09-09 12:30:30,46.11,7.0842\t2009-09-09 12:32:30,46.11,7.0842\t2009-09-09 12:34:30,46.11,7.0842\t2009-09-09 12:48:31,46.11,7.0842\t2009-09-09 12:51:31,46.11,7.0842\t2009-09-09 12:52:31,46.11,7.0842\t2009-09-09 12:54:31,46.1,7.08\t2009-09-09 13:07:38,46.1,7.08\t2009-09-09 13:16:38,46.11,7.0842\t2009-09-09 13:18:38,46.11,7.0842\t2009-09-09 13:20:38,46.1,7.08\t2009-09-09 13:33:41,46.1,7.08\t2009-09-09 13:35:41,46.11,7.0842\t2009-09-09 13:36:41,46.11,7.0842\t2009-09-09 13:38:41,46.11,7.0842\t2009-09-09 13:42:41,46.1,7.08\t2009-09-09 13:45:41,46.1,7.08\t2009-09-09 13:46:41,46.11,7.0842\t2009-09-09 13:48:42,46.11,7.0842\t2009-09-09 13:52:42,46.11,7.0842\t2009-09-09 13:54:42,46.1,7.08\t2009-09-09 13:56:42,46.11,7.0842\t2009-09-09 13:59:42,46.11,7.0842\t2009-09-09 14:00:44,46.11,7.0842\t2009-09-09 14:02:44,46.11,7.0842\t2009-09-09 14:04:44,46.1,7.08\t2009-09-09 14:06:44,46.11,7.0842\t2009-09-09 14:08:44,46.11,7.0842\t2009-09-09 14:11:44,46.11,7.0842\t2009-09-09 14:12:44,46.11,7.0842\t2009-09-09 14:16:44,46.11,7.0842\t2009-09-09 14:17:48,46.11,7.0842\t2009-09-09 14:19:48,46.11,7.0842\t2009-09-09 14:21:48,46.11,7.0842\t2009-09-09 14:23:48,46.11,7.0842\t2009-09-09 14:25:48,46.11,7.0842\t2009-09-09 14:27:48,46.11,7.0842\t2009-09-09 14:29:48,46.11,7.0842\t2009-09-09 14:31:51,46.11,7.0842\t2009-09-09 14:33:51,46.11,7.0842\t2009-09-09 14:35:51,46.11,7.0842\t2009-09-09 14:37:51,46.11,7.0842\t2009-09-09 14:39:51,46.11,7.0842\t2009-09-09 14:41:51,46.11,7.0842\t2009-09-09 14:43:51,46.1,7.08\t2009-09-09 14:46:51,46.11,7.0842\t2009-09-09 14:48:51,46.1,7.08\t2009-09-09 14:50:51,46.11,7.0842\t2009-09-09 14:51:51,46.11,7.0842\t2009-09-09 14:53:51,46.11,7.0842\t2009-09-09 14:56:52,46.11,7.0842\t2009-09-09 14:57:52,46.11,7.0842\t2009-09-09 14:59:52,46.11,7.0842\t2009-09-09 15:02:55,46.11,7.0842\t2009-09-09 15:06:55,46.11,7.0842\t2009-09-09 15:08:55,46.11,7.0842\t2009-09-09 15:10:55,46.1,7.08\t2009-09-09 15:11:55,46.11,7.0842\t2009-09-09 15:16:15,46.11,7.0842\t2009-09-09 15:17:15,46.11,7.0842\t2009-09-09 15:31:17,46.11,7.0842\t2009-09-09 15:32:17,46.1,7.08\t2009-09-09 15:36:18,46.11,7.0842\t2009-09-09 15:37:18,46.11,7.0842\t2009-09-09 15:39:18,46.11,7.0842\t2009-09-09 15:42:18,46.11,7.0842\t2009-09-09 15:43:18,46.11,7.0842\t2009-09-09 15:45:18,46.11,7.0842\t2009-09-09 15:47:18,46.1,7.08\t2009-09-09 15:49:18,46.11,7.0842\t2009-09-09 15:52:18,46.11,7.0842\t2009-09-09 15:53:18,46.11,7.0842\t2009-09-09 15:55:18,46.11,7.0842\t2009-09-09 15:59:23,46.1,7.08\t2009-09-09 16:00:23,46.11,7.0842\t2009-09-09 16:02:26,46.11,7.0842\t2009-09-09 16:05:26,46.11,7.0842\t2009-09-09 16:06:26,46.11,7.0842\t2009-09-09 16:08:26,46.11,7.0842\t2009-09-09 16:10:26,46.11,7.0842\t2009-09-09 16:12:26,46.11,7.0842\t2009-09-09 16:15:26,46.11,7.0842\t2009-09-09 16:16:26,46.11,7.0842\t2009-09-09 16:20:26,46.11,7.0842\t2009-09-09 16:21:26,46.1,7.08\t2009-09-09 16:23:27,46.11,7.0842\t2009-09-09 16:25:27,46.11,7.0842\t2009-09-09 16:27:27,46.11,7.0842\t2009-09-09 16:29:27,46.11,7.0842\t2009-09-09 16:31:30,46.11,7.0842\t2009-09-09 16:33:30,46.11,7.0842\t2009-09-09 16:35:30,46.11,7.0842\t2009-09-09 16:38:30,46.11,7.0842\t2009-09-09 16:39:30,46.11,7.0842\t2009-09-09 16:42:30,46.11,7.0842\t2009-09-09 16:43:30,46.11,7.0842\t2009-09-09 16:45:30,46.11,7.0842\t2009-09-09 16:47:30,46.11,7.0842\t2009-09-09 16:49:30,46.11,7.0842\t2009-09-09 16:51:30,46.11,7.0842\t2009-09-09 16:54:30,46.1,7.08\t2009-09-09 16:55:30,46.11,7.0842\t2009-09-09 16:57:30,46.11,7.0842\t2009-09-09 17:00:30,46.11,7.0842\t2009-09-09 17:01:33,46.11,7.0842\t2009-09-09 17:03:33,46.11,7.0842\t2009-09-09 17:06:33,46.11,7.0842\t2009-09-09 17:07:33,46.11,7.0842\t2009-09-09 17:09:33,46.11,7.0842\t2009-09-09 17:12:33,46.11,7.0842\t2009-09-09 17:13:33,46.11,7.0842\t2009-09-09 17:17:32,46.11,7.0842\t2009-09-09 17:20:32,46.11,7.0842\t2009-09-09 17:22:32,46.11,7.0842\t2009-09-09 17:24:32,46.11,7.0842\t2009-09-09 17:26:32,46.11,7.0842\t2009-09-09 17:30:32,46.11,7.0842\t2009-09-09 17:31:34,46.11,7.0842\t2009-09-09 17:33:34,46.11,7.0842\t2009-09-09 17:35:34,46.11,7.0842\t2009-09-09 17:37:34,46.1,7.08\t2009-09-09 17:39:34,46.1,7.08\t2009-09-09 17:41:34,46.11,7.0842\t2009-09-09 17:57:34,46.1,7.08\t2009-09-09 17:58:34,46.11,7.0842\t2009-09-09 18:00:34,46.11,7.0842\t2009-09-09 18:02:37,46.11,7.0842\t2009-09-09 18:05:37,46.11,7.0842\t2009-09-09 18:06:37,46.11,7.0842\t2009-09-09 18:09:37,46.11,7.0842\t2009-09-09 18:10:37,46.11,7.0842\t2009-09-09 18:12:37,46.11,7.0842\t2009-09-09 18:14:38,46.11,7.0842\t2009-09-09 18:16:38,46.11,7.0842\t2009-09-09 18:18:38,46.1,7.08\t2009-09-09 18:20:38,46.1,7.08\t2009-09-09 18:22:38,46.11,7.0842\t2009-09-09 18:25:38,46.11,7.0842\t2009-09-09 18:26:38,46.11,7.0842\t2009-09-09 18:28:38,46.11,7.0842\t2009-09-09 18:31:41,46.11,7.0842\t2009-09-09 18:33:41,46.11,7.0842\t2009-09-09 18:35:41,46.11,7.0842\t2009-09-09 18:36:41,46.11,7.0842\t2009-09-09 18:38:41,46.11,7.0842\t2009-09-09 18:41:41,46.11,7.0842\t2009-09-09 18:42:41,46.11,7.0842\t2009-09-09 18:44:41,46.1,7.08\t2009-09-09 18:47:41,46.1,7.08\t2009-09-09 18:48:41,46.11,7.0842\t2009-09-09 18:50:41,46.11,7.0842\t2009-09-09 18:52:41,46.1,7.08\t2009-09-09 18:54:41,46.1,7.08\t2009-09-09 18:56:41,46.11,7.0842\t2009-09-09 18:58:41,46.11,7.0842\t2009-09-09 19:01:43,46.11,7.0842\t2009-09-09 19:04:43,46.11,7.0842\t2009-09-09 19:05:43,46.11,7.0842\t2009-09-09 19:07:43,46.11,7.0842\t2009-09-09 19:11:43,46.11,7.0842\t2009-09-09 19:16:32,46.1073509859,7.07925995237\t2009-09-09 19:16:42,46.10718468899999,7.07904629774\t2009-09-09 19:16:52,46.107071701,7.07877472418\t2009-09-09 19:17:02,46.1069677654,7.07856903235\t2009-09-09 19:17:12,46.1068770733,7.078438693810001\t2009-09-09 19:17:22,46.1067733892,7.078374656089999\t2009-09-09 19:17:32,46.1065305655,7.0784821120500006\t2009-09-10 11:10:01,46.5193702374,6.557504949909999\t2009-09-10 11:10:21,46.519563104899994,6.5570249185\t2009-09-10 11:10:27,46.519563104899994,6.5570249185\t2009-09-10 11:11:27,46.519563104899994,6.5570249185\t2009-09-10 11:14:27,46.519563104899994,6.5570249185\t2009-09-10 11:15:27,46.519563104899994,6.5570249185\t2009-09-10 11:17:27,46.519563104899994,6.5570249185\t2009-09-10 11:19:27,46.519563104899994,6.5570249185\t2009-09-10 11:21:27,46.519563104899994,6.5570249185\t2009-09-10 11:24:28,46.519563104899994,6.5570249185\t2009-09-10 11:26:34,46.519563104899994,6.5570249185\t2009-09-10 11:28:34,46.519563104899994,6.5570249185\t2009-09-10 11:29:34,46.519563104899994,6.5570249185\t2009-09-10 11:31:34,46.519563104899994,6.5570249185\t2009-09-10 11:33:34,46.519563104899994,6.5570249185\t2009-09-10 11:36:34,46.519563104899994,6.5570249185\t2009-09-10 11:37:34,46.519563104899994,6.5570249185\t2009-09-10 11:39:34,46.519563104899994,6.5570249185\t2009-09-10 11:41:34,46.519563104899994,6.5570249185\t2009-09-10 11:43:34,46.519563104899994,6.5570249185\t2009-09-10 11:45:34,46.519563104899994,6.5570249185\t2009-09-10 11:47:34,46.519563104899994,6.5570249185\t2009-09-10 11:49:34,46.519563104899994,6.5570249185\t2009-09-10 11:51:34,46.519563104899994,6.5570249185\t2009-09-10 11:53:34,46.519563104899994,6.5570249185\t2009-09-10 11:55:41,46.519563104899994,6.5570249185\t2009-09-10 11:57:41,46.519563104899994,6.5570249185\t2009-09-10 11:59:41,46.519563104899994,6.5570249185\t2009-09-10 12:01:41,46.519563104899994,6.5570249185\t2009-09-10 12:03:41,46.519563104899994,6.5570249185\t2009-09-10 12:05:41,46.519563104899994,6.5570249185\t2009-09-10 12:07:41,46.519563104899994,6.5570249185\t2009-09-10 12:11:41,46.519563104899994,6.5570249185\t2009-09-10 12:13:41,46.519563104899994,6.5570249185\t2009-09-10 12:15:41,46.519563104899994,6.5570249185\t2009-09-10 12:17:41,46.519563104899994,6.5570249185\t2009-09-10 12:19:41,46.519563104899994,6.5570249185\t2009-09-10 12:21:41,46.519563104899994,6.5570249185\t2009-09-10 12:23:41,46.519563104899994,6.5570249185\t2009-09-10 12:25:43,46.519563104899994,6.5570249185\t2009-09-10 12:27:43,46.519563104899994,6.5570249185\t2009-09-10 12:29:43,46.519563104899994,6.5570249185\t2009-09-10 12:31:43,46.519563104899994,6.5570249185\t2009-09-10 12:37:36,46.51,6.56\t2009-09-10 12:37:46,46.51,6.56\t2009-09-10 12:37:56,46.51,6.56\t2009-09-10 12:38:06,46.51,6.56\t2009-09-10 12:38:16,46.51,6.56\t2009-09-10 12:39:22,46.51,6.56\t2009-09-10 12:39:36,46.52,6.564\t2009-09-10 12:39:46,46.52,6.564\t2009-09-10 12:39:56,46.52,6.564\t2009-09-10 12:40:06,46.52,6.563\t2009-09-10 14:01:26,46.52,6.564\t2009-09-10 14:01:36,46.52,6.565\t2009-09-10 14:01:56,46.52,6.565\t2009-09-10 14:02:06,46.52,6.565\t2009-09-10 14:02:26,46.51,6.56\t2009-09-10 14:02:36,46.51,6.56\t2009-09-10 14:02:46,46.51,6.56\t2009-09-10 15:03:29,46.52,6.564\t2009-09-10 15:03:39,46.52,6.565\t2009-09-10 15:03:49,46.52,6.565\t2009-09-10 15:03:59,46.52,6.565\t2009-09-10 15:04:19,46.521,6.564\t2009-09-10 15:04:29,46.521,6.564\t2009-09-10 15:04:49,46.521,6.564\t2009-09-10 15:05:09,46.521,6.564\t2009-09-10 15:05:19,46.521,6.564\t2009-09-10 15:05:29,46.521,6.564\t2009-09-10 15:05:59,46.5221481667,6.565480243940001\t2009-09-10 15:06:09,46.52222771090001,6.5655206447\t2009-09-10 15:06:19,46.522193764200004,6.56566129298\t2009-09-10 15:06:29,46.5221561295,6.56586229094\t2009-09-10 15:06:39,46.5221280501,6.56618298244\t2009-09-10 15:06:49,46.5220046686,6.566565783810001\t2009-09-10 15:07:09,46.5221121245,6.56618759248\t2009-09-10 15:07:18,46.5220917565,6.56619614202\t2009-09-10 15:07:28,46.5221589793,6.56623595604\t2009-09-10 15:07:38,46.5222048283,6.56618088696\t2009-09-10 15:07:48,46.522212958800004,6.56616470989\t2009-09-10 15:07:58,46.522178593,6.56630091577\t2009-09-10 15:08:18,46.522120255,6.5661879277600015\t2009-09-10 15:08:28,46.522072981,6.565996988069999\t2009-09-10 15:08:38,46.5220883199,6.56605331444\t2009-09-10 15:08:48,46.522118997700005,6.56603118623\t2009-09-10 15:08:58,46.5220983782,6.566074520650001\t2009-09-10 15:09:18,46.522081362899996,6.5661556574399995\t2009-09-10 15:09:28,46.5221157287,6.56610813207\t2009-09-10 15:09:38,46.522132744,6.56611785507\t2009-09-10 15:09:48,46.5221552075,6.56636109781\t2009-09-10 15:09:58,46.522145735900004,6.566284906340001\t2009-09-10 15:20:20,46.5228135219,6.59010702051\t2009-09-10 15:20:50,46.52,6.58\t2009-09-10 15:21:00,46.52,6.58\t2009-09-10 15:21:10,46.523079731,6.590006353890001\t2009-09-10 15:21:20,46.52,6.58\t2009-09-10 15:21:30,46.52,6.58\t2009-09-10 15:21:40,46.52,6.58\t2009-09-10 15:21:50,46.523184588599996,6.59043994958\t2009-09-10 15:22:10,46.5236710741,6.5922871527\t2009-09-10 15:22:20,46.52284311,6.594503159419999\t2009-09-10 15:22:30,46.522210863299996,6.5959157610300005\t2009-09-10 15:22:40,46.5217138166,6.59698948242\t2009-09-10 15:22:50,46.52091988310001,6.5980470267400015\t2009-09-10 15:23:00,46.520132403599995,6.59906743925\t2009-09-10 15:23:10,46.5200749037,6.5991955985000015\t2009-09-10 15:23:20,46.5200238579,6.5993431199399994\t2009-09-10 15:23:30,46.519315838900006,6.59921445778\t2009-09-10 15:23:40,46.51,6.6\t2009-09-10 15:23:50,46.51,6.6\t2009-09-10 15:24:00,46.51,6.6\t2009-09-10 15:24:10,46.51,6.6\t2009-09-10 15:24:20,46.51,6.6\t2009-09-10 15:24:30,46.51,6.6\t2009-09-10 15:24:40,46.51,6.6\t2009-09-10 15:25:00,46.51,6.6\t2009-09-10 15:25:19,46.51,6.6\t2009-09-10 15:25:34,46.51,6.6\t2009-09-10 15:25:44,46.51,6.6\t2009-09-10 15:25:54,46.51,6.6\t2009-09-10 15:26:04,46.51,6.6\t2009-09-10 15:26:14,46.51,6.6\t2009-09-10 15:26:24,46.51,6.6\t2009-09-10 15:26:44,46.51,6.6\t2009-09-10 15:26:54,46.51,6.6\t2009-09-10 15:27:04,46.5168412505,6.61046481159\t2009-09-10 15:27:14,46.5166396658,6.61167876217\t2009-09-10 15:27:24,46.5164268494,6.6126317841999995\t2009-09-10 15:27:34,46.5163947467,6.61268274615\t2009-09-10 15:27:44,46.5162489016,6.61334701173\t2009-09-10 15:27:54,46.515,6.614\t2009-09-10 15:28:04,46.5156280543,6.61522740717\t2009-09-10 15:28:14,46.5156084407,6.61562286522\t2009-09-10 15:28:24,46.5156718078,6.6159021501199975\t2009-09-10 15:28:34,46.515,6.6160000000000005\t2009-09-10 15:28:44,46.515,6.6160000000000005\t2009-09-10 15:28:54,46.515,6.6160000000000005\t2009-09-10 15:29:04,46.515371568199996,6.61720411065\t2009-09-10 15:29:14,46.5153859012,6.6174476886599995\t2009-09-10 15:29:24,46.515526549499995,6.6175609281300005\t2009-09-10 15:29:34,46.515316499099995,6.617899221619999\t2009-09-10 15:29:44,46.5151895971,6.6178089485500005\t2009-09-10 15:29:54,46.515138048400004,6.61748783797\t2009-09-10 15:30:04,46.5150622761,6.617327073119999\t2009-09-10 15:30:14,46.5150182711,6.61727510534\t2009-09-10 15:30:23,46.514913665,6.617201093169999\t2009-09-11 09:31:34,46.474184336499995,6.77914694488\t2009-09-11 09:32:14,46.4739503138,6.7918589344199995\t2009-09-11 09:32:34,46.47225683479999,6.79935528668\t2009-09-11 09:32:44,46.472760503100005,6.80110693614\t2009-09-11 10:07:27,46.106068387600004,7.079050488689999\t2009-09-11 10:07:37,46.1062669548,7.07886583543\t2009-09-11 10:07:47,46.1062139812,7.078867679450001\t2009-09-11 10:08:17,46.106254884799995,7.07887564225\t2009-09-11 10:08:27,46.106290926999996,7.0788260214\t2009-09-11 10:08:37,46.106345577,7.07867145917\t2009-09-11 10:08:47,46.1063959522,7.07851597492\t2009-09-11 10:08:59,46.106513131199996,7.078382954169999\t2009-09-11 10:09:07,46.1066181564,7.078334842060001\t2009-09-11 10:09:17,46.10669669479999,7.07842645623\t2009-09-11 10:09:27,46.1068014685,7.07854070153\t2009-09-11 10:09:37,46.106885203699996,7.078659724510001\t2009-09-11 10:09:47,46.106985116000004,7.078776149099999\t2009-09-11 10:09:59,46.107075891899996,7.078918473760001\t2009-09-11 10:10:07,46.107170858900005,7.07907932242\t2009-09-11 10:10:17,46.1072740401,7.079226089489999\t2009-09-11 10:10:27,46.1073411791,7.079336982030001\t2009-09-11 10:10:37,46.10740270220001,7.07948961643\t2009-09-11 10:10:47,46.10750856560001,7.07967410205\t2009-09-11 10:10:57,46.107594647700004,7.0798370461800015\t2009-09-11 10:11:07,46.107719035100004,7.07999646992\t2009-09-11 10:11:17,46.1,7.08\t2009-09-11 10:11:37,46.1,7.08\t2009-09-11 10:11:56,46.1,7.08\t2009-09-11 10:12:06,46.1,7.08\t2009-09-11 10:12:16,46.1,7.08\t2009-09-11 10:12:26,46.1,7.08\t2009-09-11 10:12:36,46.1,7.08\t2009-09-11 10:12:46,46.1,7.08\t2009-09-11 10:12:56,46.1,7.08\t2009-09-11 10:13:06,46.1,7.08\t2009-09-11 10:13:16,46.1,7.08\t2009-09-11 10:13:26,46.1,7.08\t2009-09-11 10:13:36,46.1,7.08\t2009-09-11 10:13:46,46.1,7.08\t2009-09-11 10:13:56,46.1,7.08\t2009-09-11 10:14:06,46.1,7.08\t2009-09-11 10:14:16,46.1,7.08\t2009-09-11 10:14:26,46.1,7.08\t2009-09-11 10:14:36,46.1,7.08\t2009-09-11 10:14:46,46.1,7.08\t2009-09-11 10:14:56,46.1,7.08\t2009-09-11 10:14:57,46.1,7.08\t2009-09-11 10:15:06,46.1,7.08\t2009-09-11 10:15:57,46.11,7.0842\t2009-09-11 10:19:02,46.11,7.0842\t2009-09-11 10:20:02,46.11,7.0842\t2009-09-11 10:22:02,46.11,7.0842\t2009-09-11 10:24:02,46.11,7.0842\t2009-09-11 10:27:02,46.11,7.0842\t2009-09-11 10:28:02,46.11,7.0842\t2009-09-11 10:30:02,46.11,7.0842\t2009-09-11 10:32:02,46.11,7.0842\t2009-09-11 10:34:02,46.11,7.0842\t2009-09-11 10:36:02,46.11,7.0842\t2009-09-11 10:38:02,46.11,7.0842\t2009-09-11 10:40:02,46.11,7.0842\t2009-09-11 10:42:02,46.11,7.0842\t2009-09-11 10:44:02,46.11,7.0842\t2009-09-11 10:48:05,46.11,7.0842\t2009-09-11 10:50:06,46.1,7.08\t2009-09-11 10:53:06,46.11,7.0842\t2009-09-11 10:54:06,46.11,7.0842\t2009-09-11 10:56:08,46.11,7.0842\t2009-09-11 10:58:08,46.11,7.0842\t2009-09-11 11:00:08,46.11,7.0842\t2009-09-11 11:04:08,46.11,7.0842\t2009-09-11 11:05:08,46.11,7.0842\t2009-09-11 11:07:08,46.11,7.0842\t2009-09-11 11:11:08,46.11,7.0842\t2009-09-11 11:13:08,46.1,7.08\t2009-09-11 11:15:08,46.1,7.08\t2009-09-11 11:16:08,46.11,7.0842\t2009-09-11 11:19:12,46.11,7.0842\t2009-09-11 11:20:12,46.11,7.0842\t2009-09-11 11:22:12,46.11,7.0842\t2009-09-11 11:24:12,46.11,7.0842\t2009-09-11 11:28:12,46.1,7.08\t2009-09-11 11:29:12,46.1,7.08\t2009-09-11 11:31:12,46.1,7.08\t2009-09-11 11:33:12,46.11,7.0842\t2009-09-11 11:35:12,46.1,7.08\t2009-09-11 11:37:12,46.11,7.0842\t2009-09-11 11:39:12,46.1,7.08\t2009-09-11 11:42:12,46.1,7.08\t2009-09-11 11:44:12,46.11,7.0842\t2009-09-11 11:57:14,46.11,7.0842\t2009-09-11 11:58:14,46.11,7.0842\t2009-09-11 12:00:14,46.11,7.0842\t2009-09-11 12:03:14,46.11,7.0842\t2009-09-11 12:04:14,46.11,7.0842\t2009-09-11 12:06:14,46.11,7.0842\t2009-09-11 12:09:14,46.11,7.0842\t2009-09-11 12:11:18,46.1,7.08\t2009-09-11 12:12:18,46.1,7.08\t2009-09-11 12:14:18,46.11,7.0842\t2009-09-11 12:17:18,46.11,7.0842\t2009-09-11 12:18:21,46.1,7.08\t2009-09-11 12:32:21,46.11,7.0842\t2009-09-11 12:34:21,46.11,7.0842\t2009-09-11 12:35:21,46.11,7.0842\t2009-09-11 12:39:21,46.11,7.0842\t2009-09-11 12:40:21,46.11,7.0842\t2009-09-11 12:42:21,46.11,7.0842\t2009-09-11 12:45:21,46.1,7.08\t2009-09-11 12:46:21,46.11,7.0842\t2009-09-11 12:49:25,46.11,7.0842\t2009-09-11 12:50:25,46.1,7.08\t2009-09-11 12:52:25,46.1,7.08\t2009-09-11 12:54:25,46.1,7.08\t2009-09-11 12:58:25,46.1,7.08\t2009-09-11 13:00:25,46.1,7.08\t2009-09-11 13:02:25,46.11,7.0842\t2009-09-11 13:03:25,46.11,7.0842\t2009-09-11 13:05:25,46.11,7.0842\t2009-09-11 13:08:25,46.11,7.0842\t2009-09-11 13:09:25,46.1,7.08\t2009-09-11 13:11:25,46.11,7.0842\t2009-09-11 13:15:25,46.11,7.0842\t2009-09-11 13:17:25,46.11,7.0842\t2009-09-11 13:20:27,46.11,7.0842\t2009-09-11 13:33:31,46.11,7.0842\t2009-09-11 13:35:31,46.1,7.08\t2009-09-11 13:36:31,46.1,7.08\t2009-09-11 13:50:34,46.1,7.08\t2009-09-11 13:53:34,46.1,7.08\t2009-09-11 13:54:34,46.11,7.0842\t2009-09-11 13:56:34,46.11,7.0842\t2009-09-11 13:59:34,46.11,7.0842\t2009-09-11 14:04:34,46.1,7.08\t2009-09-11 14:05:34,46.1,7.08\t2009-09-11 14:08:34,46.11,7.0842\t2009-09-11 14:09:34,46.11,7.0842\t2009-09-11 14:11:34,46.11,7.0842\t2009-09-11 14:13:34,46.11,7.0842\t2009-09-11 14:16:34,46.11,7.0842\t2009-09-11 14:19:37,46.11,7.0842\t2009-09-11 14:20:37,46.11,7.0842\t2009-09-11 14:22:37,46.11,7.0842\t2009-09-11 14:26:38,46.11,7.0842\t2009-09-11 14:28:38,46.11,7.0842\t2009-09-11 14:31:38,46.1,7.08\t2009-09-11 14:32:38,46.11,7.0842\t2009-09-11 14:34:38,46.1,7.08\t2009-09-11 14:36:38,46.11,7.0842\t2009-09-11 14:39:38,46.1,7.08\t2009-09-11 14:40:38,46.1,7.08\t2009-09-11 14:42:38,46.1,7.08\t2009-09-11 14:44:42,46.11,7.0842\t2009-09-11 14:47:42,46.11,7.0842\t2009-09-11 14:49:44,46.11,7.0842\t2009-09-11 14:50:44,46.11,7.0842\t2009-09-11 14:53:44,46.11,7.0842\t2009-09-11 14:55:44,46.1,7.08\t2009-09-11 14:57:44,46.11,7.0842\t2009-09-11 14:59:44,46.11,7.0842\t2009-09-11 15:00:44,46.11,7.0842\t2009-09-11 15:01:44,46.11,7.0842\t2009-09-11 15:03:44,46.11,7.0842\t2009-09-11 15:06:44,46.11,7.0842\t2009-09-11 15:07:44,46.11,7.0842\t2009-09-11 15:08:44,46.1,7.08\t2009-09-11 15:10:44,46.11,7.0842\t2009-09-11 15:14:44,46.1,7.08\t2009-09-11 15:15:44,46.11,7.0842\t2009-09-11 15:29:47,46.1,7.08\t2009-09-11 15:42:48,46.1,7.08\t2009-09-11 15:43:48,46.11,7.0842\t2009-09-11 15:45:48,46.11,7.0842\t2009-09-11 15:48:54,46.1,7.08\t2009-09-11 15:49:54,46.1,7.08\t2009-09-11 15:51:54,46.11,7.0842\t2009-09-11 15:53:54,46.11,7.0842\t2009-09-11 15:55:54,46.1,7.08\t2009-09-11 15:56:54,46.11,7.0842\t2009-09-11 15:59:55,46.1,7.08\t2009-09-11 16:00:55,46.11,7.0842\t2009-09-11 16:03:55,46.11,7.0842\t2009-09-11 16:04:55,46.1,7.08\t2009-09-11 16:07:55,46.11,7.0842\t2009-09-11 16:09:55,46.1,7.08\t2009-09-11 16:10:55,46.11,7.0842\t2009-09-11 16:12:55,46.11,7.0842\t2009-09-11 16:14:55,46.11,7.0842\t2009-09-11 16:16:55,46.1,7.08\t2009-09-11 16:20:58,46.11,7.0842\t2009-09-11 16:27:59,46.1,7.08\t2009-09-11 16:28:59,46.1,7.08\t2009-09-11 16:30:59,46.1,7.08\t2009-09-11 16:32:59,46.11,7.0842\t2009-09-11 16:36:59,46.11,7.0842\t2009-09-11 16:37:59,46.1,7.08\t2009-09-11 16:39:59,46.11,7.0842\t2009-09-11 16:41:59,46.1,7.08\t2009-09-11 16:43:59,46.11,7.0842\t2009-09-11 16:46:59,46.11,7.0842\t2009-09-11 16:49:01,46.11,7.0842\t2009-09-11 16:50:01,46.11,7.0842\t2009-09-11 16:53:01,46.11,7.0842\t2009-09-11 16:55:01,46.11,7.0842\t2009-09-11 16:57:01,46.11,7.0842\t2009-09-11 16:59:01,46.11,7.0842\t2009-09-11 17:00:01,46.11,7.0842\t2009-09-11 17:03:01,46.11,7.0842\t2009-09-11 17:16:05,46.1,7.08\t2009-09-11 17:17:05,46.11,7.0842\t2009-09-11 17:20:00,46.11,7.0842\t2009-09-11 17:22:00,46.11,7.0842\t2009-09-11 17:24:00,46.11,7.0842\t2009-09-11 17:26:00,46.11,7.0842\t2009-09-11 17:28:00,46.11,7.0842\t2009-09-11 17:30:00,46.11,7.0842\t2009-09-11 17:34:00,46.11,7.0842\t2009-09-11 17:35:00,46.11,7.0842\t2009-09-11 17:37:00,46.11,7.0842\t2009-09-11 17:48:00,46.1,7.08\t2009-09-11 17:49:03,46.1,7.08\t2009-09-11 17:51:03,46.11,7.0842\t2009-09-11 17:53:03,46.11,7.0842\t2009-09-11 17:56:03,46.11,7.0842\t2009-09-11 17:57:03,46.1,7.08\t2009-09-11 17:59:03,46.11,7.0842\t2009-09-11 18:01:03,46.1,7.08\t2009-09-11 18:03:03,46.11,7.0842\t2009-09-11 18:05:03,46.11,7.0842\t2009-09-11 18:07:04,46.11,7.0842\t2009-09-11 18:09:04,46.11,7.0842\t2009-09-11 18:11:04,46.11,7.0842\t2009-09-11 18:13:04,46.11,7.0842\t2009-09-11 18:16:04,46.11,7.0842\t2009-09-11 18:17:04,46.1,7.08\t2009-09-11 18:21:06,46.11,7.0842\t2009-09-11 18:22:06,46.11,7.0842\t2009-09-11 18:24:06,46.11,7.0842\t2009-09-11 18:26:06,46.11,7.0842\t2009-09-11 18:28:06,46.11,7.0842\t2009-09-11 18:30:06,46.1,7.08\t2009-09-11 18:33:06,46.11,7.0842\t2009-09-11 18:34:06,46.11,7.0842\t2009-09-11 18:36:06,46.11,7.0842\t2009-09-11 18:39:06,46.1,7.08\t2009-09-11 18:40:06,46.11,7.0842\t2009-09-11 18:44:06,46.11,7.0842\t2009-09-11 18:45:06,46.11,7.0842\t2009-09-11 18:47:06,46.11,7.0842\t2009-09-11 18:49:09,46.11,7.0842\t2009-09-11 18:52:09,46.11,7.0842\t2009-09-11 18:54:09,46.1,7.08\t2009-09-11 18:55:09,46.11,7.0842\t2009-09-11 18:58:09,46.11,7.0842\t2009-09-11 18:59:09,46.11,7.0842\t2009-09-11 19:01:09,46.11,7.0842\t2009-09-11 19:05:09,46.11,7.0842\t2009-09-11 19:07:10,46.11,7.0842\t2009-09-11 19:09:10,46.11,7.0842\t2009-09-11 19:10:10,46.11,7.0842\t2009-09-11 23:02:48,46.5159971932,6.62776840595\t2009-09-11 23:02:58,46.5159378493,6.62774175151\t2009-09-11 23:03:08,46.5158728896,6.6276974950800005\t2009-09-11 23:03:18,46.5158844566,6.62757260477\t2009-09-11 23:03:28,46.515822933500004,6.627419216\t2009-09-11 23:03:38,46.5158436368,6.6273205610399994\t2009-09-11 23:03:48,46.51584430729999,6.627315448080001\t2009-09-11 23:03:58,46.5158914974,6.627212602159999\t2009-09-11 23:04:08,46.5159427947,6.6270261887099995\t2009-09-11 23:04:18,46.515939944799996,6.62693717293\t2009-09-11 23:04:28,46.5159490811,6.62683516521\t2009-09-11 23:04:38,46.516039102700006,6.626768277640001\t2009-09-11 23:04:48,46.5161167191,6.6267269548800005\t2009-09-11 23:04:58,46.5161911504,6.626688817230001\t2009-09-11 23:05:07,46.516117976400004,6.62654917478\t2009-09-11 23:05:17,46.51626180979999,6.62632412076\t2009-09-11 23:05:27,46.5162706946,6.62633158066\t2009-09-11 23:05:37,46.516215877,6.626239128300001\t2009-09-11 23:05:47,46.5163008694,6.62603142482\t2009-09-11 23:05:57,46.516359961800006,6.62594877928\t2009-09-11 23:06:07,46.5164037992,6.6258438378900015\t2009-09-11 23:06:17,46.5164457087,6.62589186618\t2009-09-11 23:06:27,46.5165368199,6.6256742720599995\t2009-09-11 23:06:37,46.516524163199996,6.62561065344\t2009-09-11 23:06:47,46.516500191000006,6.62543966268\t2009-09-11 23:06:57,46.5164780628,6.6252661573500005\t2009-09-11 23:07:07,46.5165410109,6.625085443580001\t2009-09-11 23:07:17,46.516530198199995,6.62492643894\t2009-09-11 23:07:27,46.5165005263,6.6247733016299994\t2009-09-11 23:07:37,46.516487618199996,6.62467925671\t2009-09-11 23:07:47,46.5164480556,6.6245667716100005\t2009-09-11 23:07:57,46.5164602093,6.6244418813\t2009-09-11 23:08:07,46.51645409060001,6.6241871553600005\t2009-09-11 23:08:17,46.51600000000001,6.6229999999999976\t2009-09-11 23:08:27,46.51600000000001,6.6229999999999976\t2009-09-11 23:08:37,46.51600000000001,6.6229999999999976\t2009-09-11 23:08:47,46.51600000000001,6.6229999999999976\t2009-09-11 23:08:57,46.51600000000001,6.6229999999999976\t2009-09-11 23:09:07,46.51600000000001,6.6229999999999976\t2009-09-11 23:09:17,46.51600000000001,6.6229999999999976\t2009-09-11 23:09:27,46.51600000000001,6.6229999999999976\t2009-09-11 23:09:37,46.5159624083,6.62304453475\t2009-09-11 23:09:47,46.5159051599,6.62292333248\t2009-09-11 23:09:57,46.5158690339,6.62278151073\t2009-09-11 23:10:06,46.5158622446,6.62260716721\t2009-09-11 23:10:16,46.5158601491,6.62244439071\t2009-09-11 23:10:26,46.5158552038,6.6222797702\t2009-09-11 23:10:36,46.51582745970001,6.62215353878\t2009-09-11 23:10:46,46.51584011640001,6.622016829990001\t2009-09-11 23:10:56,46.515839864899995,6.62187375096\t2009-09-11 23:11:06,46.515838188500005,6.62170594532\t2009-09-11 23:11:16,46.5158161441,6.621553478559999\t2009-09-11 23:11:26,46.5158076784,6.621403610190001\t2009-09-11 23:11:36,46.5158266215,6.6212176996500025\t2009-09-11 23:11:50,46.5158097739,6.62108660673\t2009-09-11 23:12:06,46.515725368199995,6.6207635683\t2009-09-11 23:12:16,46.51566401270001,6.62067807292\t2009-09-11 23:12:26,46.515589497600004,6.62060179763\t2009-09-11 23:12:36,46.5154847238,6.620576568119999\t2009-09-11 23:12:46,46.515403922299996,6.6205455550900005\t2009-09-11 23:12:56,46.5153102965,6.62055284734\t2009-09-11 23:13:06,46.5152341888,6.620448576499999\t2009-09-11 23:13:16,46.5151843165,6.62026618636\t2009-09-11 23:13:26,46.5151341928,6.620237352619999\t2009-09-11 23:13:36,46.51497510430001,6.620209105619999\t2009-09-11 23:13:46,46.5148808079,6.62014967795\t2009-09-11 23:13:56,46.5147782973,6.620066780959999\t2009-09-11 23:14:06,46.513999999999996,6.619\t2009-09-11 23:14:16,46.513999999999996,6.619\t2009-09-11 23:14:26,46.513999999999996,6.619\t2009-09-11 23:14:36,46.513999999999996,6.619\t2009-09-11 23:14:46,46.513999999999996,6.619\t2009-09-11 23:14:56,46.513999999999996,6.619\t2009-09-11 23:15:06,46.513999999999996,6.619\t2009-09-11 23:15:16,46.513999999999996,6.619\t2009-09-11 23:15:25,46.5148782095,6.61884511903\t2009-09-11 23:15:35,46.5149337815,6.61870346492\t2009-09-11 23:15:45,46.5149635373,6.61859366203\t2009-09-11 23:15:55,46.5150056982,6.618492324859999\t2009-09-11 23:16:05,46.5150386391,6.61839727411\t2009-09-11 23:16:15,46.515125643199994,6.61828889615\t2009-09-11 23:16:25,46.5150720829,6.6180402889900005\t2009-09-11 23:16:35,46.5151063649,6.61788011089\t2009-09-11 23:16:45,46.5151033474,6.61777550477\t2009-09-11 23:16:55,46.51506990359999,6.61768975794\t2009-09-11 23:17:05,46.515037298,6.617597305580001\t2009-09-11 23:17:15,46.515008548100006,6.6175652029\t2009-09-11 23:17:25,46.5150255633,6.617501249\t2009-09-11 23:17:35,46.5150514634,6.617361187459999\t2009-09-11 23:17:45,46.514968650200004,6.61742631482\t2009-09-13 16:36:13,46.5067692242,6.62831758804\t2009-09-13 16:36:23,46.5067985609,6.628442981259999\t2009-09-13 16:36:33,46.5068209405,6.628569967050001\t2009-09-13 16:36:43,46.506905597700005,6.62865948574\t2009-09-13 16:36:53,46.5069395444,6.62879552398\t2009-09-13 16:37:03,46.506934431400005,6.6289510082200005\t2009-09-13 16:37:13,46.506910123900006,6.6291427861\t2009-09-13 16:37:23,46.506807864799995,6.629278908150001\t2009-09-13 16:37:33,46.5067713197,6.6294039661\t2009-09-13 16:37:43,46.506735696599996,6.629553583019999\t2009-09-13 16:37:53,46.5067035101,6.6296546687300015\t2009-09-13 16:38:03,46.5067125626,6.6297842528999995\t2009-09-13 16:38:13,46.506720944499996,6.62992649375\t2009-09-13 16:38:22,46.5067707329,6.63006622002\t2009-09-13 16:38:32,46.5068185098,6.63022237482\t2009-09-13 16:38:42,46.5068102955,6.63029982357\t2009-09-13 16:38:52,46.506793280299995,6.63039370085\t2009-09-13 16:39:02,46.5068131454,6.63052898472\t2009-09-13 16:39:12,46.506868633500005,6.63070710009\t2009-09-13 16:39:22,46.5069574817,6.63090097344\t2009-09-13 16:39:32,46.5069954517,6.63099778439\t2009-09-13 16:39:42,46.50706795510001,6.6310779991699995\t2009-09-13 16:39:52,46.5070697991,6.63112250706\t2009-09-13 16:40:12,46.507001654300005,6.63148049801\t2009-09-13 16:40:32,46.5070737386,6.6316509020300005\t2009-09-13 16:40:42,46.507069883,6.63169138661\t2009-09-13 16:41:02,46.5071401233,6.63187436349\t2009-09-13 16:41:12,46.5071674483,6.63198106507\t2009-09-13 16:41:22,46.5072549553,6.63208550355\t2009-09-13 16:41:32,46.5072820288,6.63224660367\t2009-09-13 16:41:42,46.5072221821,6.63237970824\t2009-09-13 16:41:52,46.507125455,6.632406195040001\t2009-09-13 16:42:02,46.5072106989,6.63258967483\t2009-09-13 16:42:12,46.5072633372,6.63269293984\t2009-09-13 16:42:22,46.50722855229999,6.63287742546\t2009-09-13 16:42:32,46.507099974,6.6329526111\t2009-09-13 16:42:42,46.5070567234,6.63308294965\t2009-09-13 16:42:52,46.507047754700004,6.6332750628\t2009-09-13 16:43:02,46.5070489282,6.6334100951999995\t2009-09-13 16:43:11,46.507007856899996,6.63352308322\t2009-09-13 16:43:21,46.507015233000004,6.6337471314\t2009-09-13 16:43:31,46.5070014028,6.63370765265\t2009-09-13 16:43:41,46.5069817054,6.6337887894500005\t2009-09-13 16:43:51,46.5069526202,6.63392642025\t2009-09-13 16:44:01,46.5069534584,6.63406983455\t2009-09-13 16:44:11,46.5069069388,6.634204699330001\t2009-09-13 16:44:31,46.5068392969,6.6342785438600025\t2009-09-13 16:44:41,46.5068162467,6.6344362074\t2009-09-13 16:44:51,46.5067962139,6.634532850709999\t2009-09-13 16:45:21,46.5066619359,6.63492495599\t2009-09-13 16:45:31,46.5066371255,6.634948090040001\t2009-09-13 16:45:41,46.5065739259,6.6351071785\t2009-09-13 16:46:11,46.506634108,6.63534229079\t2009-09-13 16:46:21,46.5066323478,6.63530197385\t2009-09-13 16:46:41,46.5066973913,6.63530214149\t2009-09-13 16:47:11,46.5066270672,6.63560724265\t2009-09-13 16:47:31,46.5065020092,6.635382440090001\t2009-09-13 16:47:41,46.5064958066,6.63549417082\t2009-09-13 16:48:01,46.5065078766,6.635432982949999\t2009-09-13 16:48:21,46.50641391550001,6.63558410861\t2009-09-13 16:48:30,46.5064631172,6.635567344809999\t2009-09-13 16:48:40,46.506503098900005,6.63569240276\t2009-09-13 16:48:50,46.506462111400005,6.635900609149999\t2009-09-13 16:49:10,46.506367312100004,6.63600295215\t2009-09-13 16:49:30,46.506346357299996,6.63626279105\t2009-09-13 16:49:40,46.506359600699994,6.63647585895\t2009-09-13 16:49:50,46.5063198705,6.6365484462\t2009-09-13 16:50:00,46.5062915397,6.636747097230001\t2009-09-13 16:50:10,46.5062819844,6.63684164507\t2009-09-13 16:50:20,46.5062552461,6.63699235163\t2009-09-13 16:50:30,46.506211576400005,6.63713375428\t2009-09-13 16:50:50,46.506090541800006,6.6373349198800025\t2009-09-13 16:51:10,46.5057220734,6.63750524009\t2009-09-13 16:51:20,46.5057240013,6.63754505411\t2009-09-13 16:51:40,46.5059703453,6.63790036285\t2009-09-13 16:51:50,46.5059555093,6.6380666597500015\t2009-09-13 16:52:00,46.50597017770001,6.63815785482\t2009-09-13 16:52:10,46.5058266795,6.6382863493499995\t2009-09-13 16:52:20,46.505802036800006,6.638295737080001\t2009-09-13 16:52:30,46.5057780645,6.6382999280299995\t2009-09-13 16:52:40,46.5058379951,6.638349045959999\t2009-09-13 16:53:10,46.5057663299,6.6386917818499995\t2009-09-13 16:53:21,46.5056977659,6.63882907737\t2009-09-13 16:53:31,46.5056682616,6.63887341763\t2009-09-13 16:53:41,46.5056138631,6.63884131495\t2009-09-13 16:53:50,46.5056112647,6.63883762691\t2009-09-13 16:54:00,46.5056178864,6.63894424468\t2009-09-13 16:54:10,46.5056252625,6.639080282919999\t2009-09-13 16:54:20,46.505576060699994,6.63919528258\t2009-09-13 16:54:30,46.5055564471,6.63936794973\t2009-09-13 16:54:40,46.5055867896,6.639524272159999\t2009-09-13 16:54:50,46.50551260979999,6.6396649204400005\t2009-09-13 16:55:00,46.505528535399996,6.639737256240001\t2009-09-13 16:55:10,46.505466006400006,6.63987530613\t2009-09-13 16:55:20,46.5053755657,6.640025928869997\t2009-09-13 16:55:30,46.5053184011,6.64010186889\t2009-09-13 16:55:40,46.5052811855,6.64026288519\t2009-09-13 16:55:50,46.505214968500006,6.64050344572\t2009-09-13 16:56:00,46.5052069219,6.64061928358\t2009-09-13 16:58:47,46.50506065770001,6.6411122231099995\t2009-09-13 16:58:57,46.5050502641,6.64116821421\t2009-09-13 16:59:07,46.505146069300004,6.64110543378\t2009-09-13 16:59:17,46.5052855441,6.64120936934\t2009-09-13 16:59:27,46.5053307225,6.6412608342\t2009-09-13 16:59:37,46.5054248513,6.64125362577\t2009-09-13 16:59:46,46.505604391599995,6.64119143207\t2009-09-13 17:00:06,46.5057918108,6.64122848007\t2009-09-13 17:00:26,46.505769012100004,6.6410517896200005\t2009-09-13 17:00:36,46.505672704,6.64105455564\t2009-09-13 17:00:46,46.505645881999996,6.64092145107\t2009-09-13 17:00:56,46.505650994899995,6.64074543117\t2009-09-13 17:01:06,46.5058897953,6.64065222444\t2009-09-13 17:01:16,46.5059892046,6.640634371\t2009-09-13 17:01:26,46.5060549187,6.6405909527499976\t2009-09-13 17:01:36,46.5059796492,6.640503026619999\t2009-09-13 17:01:46,46.5060304435,6.640477210369999\t2009-09-13 17:02:06,46.5058758813,6.640304878509999\t2009-09-13 17:02:16,46.5057892125,6.64037369391\t2009-09-13 17:02:26,46.5059394161,6.64083352494\t2009-09-13 17:02:36,46.5059775537,6.640822796109999\t2009-09-13 17:02:46,46.505995071899996,6.64080888215\t2009-09-13 17:03:26,46.505749985200005,6.64101096976\t2009-09-13 17:03:36,46.5056885458,6.6406905297300005\t2009-09-13 17:03:46,46.505682846099994,6.6407010071000006\t2009-09-13 17:04:55,46.505900440299996,6.6404749472599995\t2009-09-13 17:05:15,46.5058799046,6.64066286946\t2009-09-13 17:05:25,46.505851322299996,6.6407349538\t2009-09-13 17:05:35,46.5058549265,6.640701845290001\t2009-09-13 17:05:45,46.505844281499996,6.64073830656\t2009-09-13 17:05:55,46.505834055600005,6.6407146696\t2009-09-13 17:06:35,46.5058485563,6.640834111669999\t2009-09-13 17:06:55,46.5058691758,6.640920696699999\t2009-09-13 17:07:05,46.5058012824,6.64078415555\t2009-09-13 17:07:15,46.50572970100001,6.64082958545\t2009-09-13 17:07:25,46.505706483100006,6.64086344832\t2009-09-13 17:07:35,46.50572551,6.6409242171\t2009-09-13 17:07:45,46.505728695100004,6.640883816340001\t2009-09-13 17:07:55,46.5057784836,6.64078843032\t2009-09-13 17:08:25,46.50582684720001,6.64082430485\t2009-09-13 17:08:55,46.505742776700004,6.640396827949999\t2009-09-13 17:09:05,46.5057986002,6.64040789206\t2009-09-13 17:09:15,46.506092302,6.64043882127\t2009-09-13 17:09:44,46.5059108338,6.640590198380001\t2009-09-13 17:09:54,46.5057804115,6.6405783799\t2009-09-13 17:10:04,46.5057803276,6.64055935299\t2009-09-13 17:44:49,46.5057091653,6.64031258986\t2009-09-13 17:44:59,46.5057941578,6.64064610566\t2009-09-13 17:45:10,46.5058460417,6.640743251880001\t2009-09-13 17:45:19,46.505933465,6.64075364543\t2009-09-13 17:45:39,46.5058501489,6.64075683056\t2009-09-13 17:45:59,46.5056906413,6.64077049305\t2009-09-13 17:46:49,46.5064784561,6.640664881109999\t2009-09-13 17:46:59,46.506174696,6.64071181975\t2009-09-13 17:47:09,46.5062690762,6.64082933399\t2009-09-13 17:47:59,46.5063519732,6.64061802629\t2009-09-13 17:48:10,46.506366641499994,6.640676448130001\t2009-09-13 17:48:19,46.506520952299994,6.640992529580001\t2009-09-13 17:51:07,46.505807736499996,6.64042365003\t2009-09-13 17:51:17,46.505670692399995,6.6404799764\t2009-09-13 17:51:27,46.5057892963,6.64060847092\t2009-09-13 17:51:37,46.505981828500005,6.640665803119999\t2009-09-13 17:51:47,46.5061518134,6.640769151950001\t2009-09-13 17:51:57,46.5059467922,6.6406926252\t2009-09-13 17:52:07,46.5059952396,6.640673765930001\t2009-09-13 17:52:17,46.50599591010001,6.64079345946\t2009-09-13 17:52:27,46.5060596964,6.640799159149999\t2009-09-13 17:52:37,46.5061627937,6.6408686451\t2009-09-13 17:52:47,46.506104874799995,6.64097794508\t2009-09-13 17:53:00,46.5062428409,6.6409780289\t2009-09-13 17:53:10,46.5061550824,6.64094324401\t2009-09-13 17:53:20,46.50586993010001,6.64074693991\t2009-09-13 17:53:30,46.506144605,6.64088121795\t2009-09-13 17:53:40,46.506307884399995,6.6408931202499994\t2009-09-13 17:53:50,46.5063416635,6.64081265401\t2009-09-13 17:54:00,46.5062218023,6.6406305991400005\t2009-09-13 17:54:10,46.506073023599996,6.6404461973399975\t2009-09-13 17:54:20,46.5058277692,6.6404526513999995\t2009-09-13 17:58:58,46.5060203853,6.63833647311\t2009-09-13 17:59:28,46.506394469499995,6.63824603241\t2009-09-13 17:59:38,46.5063129136,6.6381087368900005\t2009-09-13 17:59:48,46.506332694799994,6.63798015854\t2009-09-13 17:59:58,46.5064870894,6.63782257882\t2009-09-13 18:00:08,46.5066232115,6.63769307847\t2009-09-13 18:00:18,46.5066772748,6.6376402725\t2009-09-13 18:00:28,46.506490526,6.6374821060399976\t2009-09-13 18:00:38,46.5065175996,6.637528541769999\t2009-09-13 18:00:58,46.5067617643,6.63762409543\t2009-09-13 18:01:08,46.5068224493,6.63769291083\t2009-09-13 18:01:18,46.50688061970001,6.63779324217\t2009-09-13 18:01:28,46.5069185058,6.63781620858\t2009-09-13 18:01:38,46.506951782,6.63761562971\t2009-09-13 18:01:48,46.506984136099994,6.6375520110899995\t2009-09-13 18:01:58,46.5071307355,6.6375431262800015\t2009-09-13 18:02:08,46.507187648599995,6.63748948212\t2009-09-13 18:02:18,46.5073265367,6.63760993002\t2009-09-13 18:02:27,46.50737280479999,6.63759894973\t2009-09-13 18:02:37,46.507371882799994,6.637530134330001\t2009-09-13 18:02:47,46.50741664220001,6.637526278659999\t2009-09-13 18:03:07,46.5074608148,6.6376748897399995\t2009-09-13 18:03:27,46.5079500663,6.63756600886\t2009-09-13 18:03:37,46.507970182799994,6.63762317342\t2009-09-13 18:03:47,46.507923328000004,6.637619401569999\t2009-09-13 18:03:57,46.507875886499995,6.637629543659999\t2009-09-13 18:04:07,46.5078673369,6.63763230969\t2009-09-13 18:04:17,46.5079100008,6.63774999157\t2009-09-13 18:04:27,46.508020809499996,6.63776784502\t2009-09-13 18:04:37,46.5082787206,6.637844455580001\t2009-09-13 18:04:47,46.508323899,6.637895166080001\t2009-09-13 18:04:57,46.508334292600004,6.6377965111099995\t2009-09-13 18:05:07,46.508419285,6.637720738740001\t2009-09-13 18:05:17,46.5084110708,6.637659634689999\t2009-09-13 18:05:27,46.5085509647,6.6375642486599995\t2009-09-13 18:05:39,46.5086715802,6.637455032509999\t2009-09-13 18:05:47,46.5087072871,6.6371026574300025\t2009-09-13 18:05:57,46.50906888229999,6.63722595518\t2009-09-13 18:06:07,46.509009706099995,6.63711606847\t2009-09-13 18:06:17,46.5089392143,6.6368792798000005\t2009-09-13 18:06:27,46.5091221912,6.6366016712699984\t2009-09-13 18:06:37,46.5094094389,6.6365688142199994\t2009-09-13 18:06:47,46.5093105325,6.636460939169999\t2009-09-13 18:06:57,46.509255631,6.63627787847\t2009-09-13 18:07:17,46.509519996099996,6.635999515569999\t2009-09-13 18:07:26,46.5093003904,6.635911757080001\t2009-09-13 18:07:36,46.5092446507,6.63591242763\t2009-09-13 18:07:46,46.5092656893,6.6356789079\t2009-09-13 18:07:56,46.5093249493,6.63544656163\t2009-09-13 18:08:06,46.5094685313,6.635283701310001\t2009-09-13 18:08:16,46.5095134583,6.635166689990001\t2009-09-13 18:08:26,46.5096061621,6.635023275680001\t2009-09-13 18:08:36,46.50899999999999,6.6339999999999995\t2009-09-13 18:08:46,46.50899999999999,6.6339999999999995\t2009-09-13 18:08:56,46.50899999999999,6.6339999999999995\t2009-09-13 18:09:06,46.50899999999999,6.6339999999999995\t2009-09-13 18:09:16,46.50899999999999,6.6339999999999995\t2009-09-13 18:09:26,46.50899999999999,6.6339999999999995\t2009-09-13 18:09:36,46.50899999999999,6.6339999999999995\t2009-09-13 18:09:46,46.50899999999999,6.6339999999999995\t2009-09-13 18:09:56,46.5100801585,6.633799518280001\t2009-09-13 18:10:06,46.5101322939,6.6336857759\t2009-09-13 18:10:16,46.51020622229999,6.633543115959999\t2009-09-13 18:10:26,46.51025634609999,6.63340406024\t2009-09-13 18:10:36,46.5102686675,6.6333378432300005\t2009-09-13 18:10:46,46.5103299391,6.63324790544\t2009-09-13 18:10:56,46.5103942283,6.633166684830001\t2009-09-13 18:11:06,46.510500427,6.6331008031\t2009-09-13 18:11:16,46.510506210500004,6.63301530771\t2009-09-13 18:11:26,46.51,6.6320000000000014\t2009-09-13 18:11:36,46.51,6.6320000000000014\t2009-09-13 18:11:46,46.51,6.6320000000000014\t2009-09-13 18:11:56,46.51,6.6320000000000014\t2009-09-13 18:12:06,46.51,6.6320000000000014\t2009-09-13 18:12:16,46.51,6.6320000000000014\t2009-09-13 18:12:25,46.51,6.6320000000000014\t2009-09-13 18:12:35,46.5110186799,6.63194921385\t2009-09-13 18:12:45,46.511082717600004,6.6318082303\t2009-09-13 18:12:55,46.5110854836,6.631763135669999\t2009-09-13 18:13:05,46.5112075241,6.63180864939\t2009-09-13 18:13:15,46.511053716199996,6.631752323019999\t2009-09-13 18:13:25,46.5109438295,6.63174829971\t2009-09-13 18:13:35,46.5109442486,6.63173866053\t2009-09-13 18:13:45,46.5109307537,6.6317170352199994\t2009-09-13 18:13:55,46.5109251379,6.6317204718\t2009-09-13 18:14:05,46.510933352100004,6.631734721030001\t2009-09-13 18:14:15,46.5109280715,6.631823904450001\t2009-09-13 18:14:25,46.5109109724,6.6317729425\t2009-09-13 18:14:35,46.5108756846,6.63174570132\t2009-09-13 18:14:45,46.510893035200006,6.63180303352\t2009-09-13 18:14:55,46.5109130679,6.63183094525\t2009-09-13 18:15:05,46.5108983158,6.63184200935\t2009-09-13 18:15:15,46.5108863297,6.63185106181\t2009-09-13 18:15:25,46.510939638500005,6.63171753814\t2009-09-13 18:15:31,46.511020607700004,6.63158803778\t2009-09-13 18:15:42,46.51101650060001,6.63147144555\t2009-09-13 18:15:52,46.5110693904,6.631302634090001\t2009-09-13 18:16:02,46.511152455,6.63117858197\t2009-09-13 18:16:12,46.511360158500004,6.63102745631\t2009-09-13 18:16:22,46.511263598999996,6.630883119990001\t2009-09-13 18:27:00,46.5133816213,6.621572254019999\t2009-09-13 18:27:10,46.5133865666,6.621366394550001\t2009-09-13 18:27:22,46.513430068699996,6.621209904480001\t2009-09-13 18:27:30,46.5134979621,6.62110756148\t2009-09-13 18:27:40,46.513596533199994,6.62099884824\t2009-09-13 18:27:50,46.5137418754,6.620988454680001\t2009-09-13 18:27:59,46.5138134568,6.620861301259999\t2009-09-13 18:28:09,46.5138784165,6.62071612675\t2009-09-13 18:28:19,46.51397589800001,6.62062174656\t2009-09-13 18:28:29,46.514066757799995,6.62052778546\t2009-09-13 18:28:39,46.5141181388,6.6203654280499995\t2009-09-13 18:28:49,46.5141900555,6.62026895238\t2009-09-13 18:28:59,46.514255015299995,6.62013911675\t2009-09-13 18:29:09,46.5143584479,6.6200247038199995\t2009-09-13 18:29:19,46.513999999999996,6.619\t2009-09-13 18:29:29,46.513999999999996,6.619\t2009-09-13 18:29:39,46.513999999999996,6.619\t2009-09-13 18:29:49,46.513999999999996,6.619\t2009-09-13 18:29:59,46.513999999999996,6.619\t2009-09-13 18:30:09,46.513999999999996,6.619\t2009-09-13 18:30:19,46.513999999999996,6.619\t2009-09-13 18:30:29,46.5147140919,6.6189041276100005\t2009-09-13 18:30:39,46.5147649701,6.618727185700001\t2009-09-13 18:30:49,46.514971164799995,6.61862744109\t2009-09-13 18:31:06,46.51521885,6.6186775648500005\t2009-09-13 18:31:19,46.5153727416,6.618060237919999\t2009-09-13 18:31:39,46.515273835200006,6.6178911749900005\t2009-09-13 18:31:49,46.515344327,6.6178496007700005\t2009-09-13 18:31:59,46.5153652817,6.617986393380001\t2009-09-13 18:32:09,46.515327647,6.61773359527\t2009-09-13 18:32:19,46.515259669799995,6.6175515404\t2009-09-13 18:32:20,46.515259669799995,6.6175515404\t2009-09-13 18:32:29,46.5150913613,6.617484485199999\t2009-09-13 18:33:20,46.5150913613,6.617484485199999\t2009-09-13 18:35:20,46.5150913613,6.617484485199999\t2009-09-13 18:49:20,46.515259669799995,6.6175515404\t2009-09-13 18:52:20,46.515259669799995,6.6175515404\t2009-09-13 19:00:40,46.515,6.6160000000000005\t2009-09-13 19:00:50,46.515,6.6160000000000005\t2009-09-13 19:01:00,46.515,6.6160000000000005\t2009-09-13 19:01:10,46.515,6.6160000000000005\t2009-09-13 19:01:12,46.5151304488,6.61732028378\t2009-09-13 19:01:20,46.515,6.6160000000000005\t2009-09-13 19:02:12,46.5151528425,6.617265508069999\t2009-09-13 19:04:12,46.5150913613,6.617484485199999\t2009-09-13 19:18:12,46.515259669799995,6.6175515404\t2009-09-13 19:31:17,46.515259669799995,6.6175515404\t2009-09-13 19:44:18,46.515259669799995,6.6175515404\t2009-09-13 19:57:21,46.515259669799995,6.6175515404\t2009-09-13 20:01:21,46.515259669799995,6.6175515404\t2009-09-13 20:14:21,46.515259669799995,6.6175515404\t2009-09-13 20:15:21,46.515259669799995,6.6175515404\t2009-09-13 20:29:24,46.515259669799995,6.6175515404\t2009-09-13 20:52:25,46.515259669799995,6.6175515404\t2009-09-13 21:36:24,46.515259669799995,6.6175515404\t2009-09-13 21:49:24,46.51517551550001,6.61751801281\t2009-09-13 22:02:27,46.515259669799995,6.6175515404\t2009-09-13 22:15:27,46.515259669799995,6.6175515404\t2009-09-13 22:28:30,46.515259669799995,6.6175515404\t2009-09-13 22:41:30,46.515259669799995,6.6175515404\t2009-09-13 23:10:18,46.5151528425,6.617265508069999\t2009-09-13 23:22:18,46.5151528425,6.617265508069999\t2009-09-13 23:37:26,46.515259669799995,6.6175515404\t2009-09-13 23:41:26,46.515259669799995,6.6175515404\t2009-09-13 23:43:26,46.5151528425,6.617265508069999\t2009-09-13 23:46:26,46.5151528425,6.617265508069999\t2009-09-13 23:48:26,46.515259669799995,6.6175515404\t2009-09-13 23:51:26,46.515259669799995,6.6175515404\t2009-09-13 23:54:32,46.5151528425,6.617265508069999\t";
            try {
                String edgelist = Clustering.cluster(x, 5, 5);
                System.out.println(edgelist);
                ScrollView scroller = new ScrollView(this);
                logview=new TextView(scroller.getContext());
                logview.setSingleLine(false);
                scroller.addView(logview);
                setContentView(scroller);
                logview.setText(edgelist);
            } catch (IOException e) {
                e.printStackTrace();
            } catch (ParseException e) {
                e.printStackTrace();
            }

        });
    }

    @Override protected void onPause() {
        super.onPause();
        Log.d("MYINFO","onPause Called");
    }

    @Override protected void onStart() {
        super.onStart();
        Log.d("MYINFO","onStart Called");

    }

    @Override public void onRequestPermissionsResult(int requestCode,
                                                     @NonNull String permissions[],
                                                     @NonNull int[] grantResults) {
        FileLogger.log("Processing permissions...", this.getApplicationContext());
        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
        if (requestCode == ApplicationConstants.LOCATION_PERMISSIONS_CODE) {
            // If request is cancelled, the result arrays are empty.
            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
                FileLogger.log("Starting service...", this.getApplicationContext());
                Log.d("MYINFO","onRequestPermissionsResult: Starting Service");
                startService(getApplicationContext());
            }
        }
        this.finish();
    }

    private void startService(final Context context) {
        AsyncTask.execute(new Runnable() {
            @Override public void run() {
                setAlarm(context);
            }
        });
        Intent mServiceIntent = new Intent(this, LocationTrackerService.class);
        WakefulIntentService.sendWakefulWork(context, mServiceIntent);

        CharSequence text = "Successfully installed! \n Location logging now active";
        int duration = Toast.LENGTH_LONG;
        Toast toast = Toast.makeText(context, text, duration);
        toast.show();
    }

    private void setAlarm(Context context) {
        ServiceAlarm alarm = new ServiceAlarm();
        LocationTrackerService.scheduleAlarms(alarm, context);

    }

    private class CreateAppUserTask extends AsyncTask<String, Void, String> {
        private Context context;
        private CreateAppUserTask(Context context) {
            this.context = context;
        }
        @Override
        protected String doInBackground(String... params) {
            // username, email, password
            try {
                HttpsURLConnection urlConnection = null;
                URL url = null;
                DataOutputStream dos = null;

                // open a URL connection to the Servlet
                url = new URL(ApplicationConstants.AUTHORIZATION_URL);
                // Open a HTTP  connection to  the URL
                urlConnection = (HttpsURLConnection) url.openConnection();

                try {
                    urlConnection.setRequestMethod("POST");
                    urlConnection.setUseCaches(false); // don't use a cache copy
                    urlConnection.setDoInput(true); // Allow Inputs
                    urlConnection.setDoOutput(true); // Allow Outputs
                    urlConnection.setRequestProperty("Content-Type", "application/json");
                    // Build body to write (form)
                    JSONObject obj = new JSONObject();
                    obj.put("username", params[0]);
                    obj.put("email", ApplicationConstants.APP_EMAIL);
                    obj.put("password", ApplicationConstants.APP_PASSWORD);
                    String objStr = obj.toString();
                    //Log.d("MYINFO", "OBJECT TO SEND:");
                    //Log.d("MYINFO", obj.toString());


                    urlConnection.setRequestProperty("Content-Length", objStr.getBytes("UTF-8").length + "");
                     dos = new DataOutputStream(urlConnection.getOutputStream());
                    dos.writeBytes(objStr.toString());

                    // Responses from the server (message)
                    if (urlConnection.getResponseCode() == HttpsURLConnection.HTTP_OK) {
                        Log.d("MYINFO", "User registered in the backend correctly.");

                        // Parse received json
                        BufferedReader br = new BufferedReader(new InputStreamReader((urlConnection.getInputStream())));
                        StringBuilder sb = new StringBuilder();
                        String output;

                        while ((output = br.readLine()) != null) {
                            sb.append(output);
                        }
                        //Log.d("MYINFO", "output received when creating user: " + sb.toString());
                        JSONObject serverResponseMessage = new JSONObject(sb.toString());
                        received_passwd = serverResponseMessage.getString(ApplicationConstants.PASSWD);

                        SharedPreferences sPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
                        SharedPreferences.Editor editor = sPrefs.edit();
                        editor.putString(ApplicationConstants.KEY_UUID, inserted_userid);
                        editor.putString(ApplicationConstants.PASSWD, received_passwd);
                        editor.commit();
                        //Log.d("MYINFO", "received passwd: " + received_passwd);
                    } else {
                        Log.d("MYINFO", "response code received in createAppUserTask: " + urlConnection.getResponseCode());
                    }
                    // close the streams
                    dos.flush();
                    dos.close();

                } catch (Exception e) {
                    FileLogger.log("multipart post error " + e, context); // not sure if this is correct
                } finally {
                    urlConnection.disconnect();
                }
            } catch (IOException e) {
                FileLogger.log("IOException " + e, context);
            }
            return null;
        }
    }

    private class RetrieveAuthTokensTask extends AsyncTask<String, Void, String> {

        private Context context;

        private RetrieveAuthTokensTask(Context context) {
            this.context = context;
        }

        @Override
        protected String doInBackground(String... params) {
            try {
                HttpsURLConnection urlConnection;
                URL url;
                DataOutputStream dos;
                String lineEnd = "\r\n";
                String twoHyphens = "--";
                String boundary = "*****";

                // open a URL connection to the Servlet
                url = new URL(ApplicationConstants.ACCESS_TOKEN_URL);
                // Open a HTTP  connection to  the URL
                urlConnection = (HttpsURLConnection) url.openConnection();
                try {
                    urlConnection.setRequestMethod("POST");
                    urlConnection.setUseCaches(false); // don't use a cache copy
                    urlConnection.setDoInput(true); // Allow Inputs
                    urlConnection.setDoOutput(true); // Allow Outputs
                    urlConnection.setRequestProperty("Content-Type", "multipart/form-data; boundary=" + boundary + "; charset=utf-8"); //, "application/json");

                    // Build body to write (form)
                    StringBuilder sb = new StringBuilder();
                    sb.append(twoHyphens + boundary + lineEnd);
                    sb.append("Content-Disposition: form-data; name=\"username\"" + lineEnd);
                    sb.append(lineEnd);
                    sb.append(params[0]);
                    sb.append(lineEnd);
                    sb.append(twoHyphens + boundary + lineEnd);
                    sb.append("Content-Disposition: form-data; name=\"password\"" + lineEnd);
                    sb.append(lineEnd);
                    //sb.append(params[1]);
                    sb.append(PreferenceManager.getDefaultSharedPreferences(context).getString(ApplicationConstants.PASSWD, null));
                    sb.append(lineEnd);
                    sb.append(twoHyphens + boundary + lineEnd);
                    sb.append("Content-Disposition: form-data; name=\"client_id\"" + lineEnd);
                    sb.append(lineEnd);
                    sb.append(ApplicationConstants.CLIENT_ID);
                    sb.append(lineEnd);
                    sb.append(twoHyphens + boundary + lineEnd);
                    sb.append("Content-Disposition: form-data; name=\"client_secret\"" + lineEnd);
                    sb.append(lineEnd);
                    sb.append(ApplicationConstants.CLIENT_SECRET);
                    sb.append(lineEnd);
                    sb.append(twoHyphens + boundary + lineEnd);
                    sb.append("Content-Disposition: form-data; name=\"grant_type\"" + lineEnd);
                    sb.append(lineEnd);
                    sb.append(ApplicationConstants.GRANT_TYPE);
                    sb.append(lineEnd);
                    sb.append(twoHyphens + boundary + twoHyphens + lineEnd);

                    //Log.d("MYINFO", "Body query to send: "+sb.toString());

                    urlConnection.setRequestProperty("Content-Length", sb.toString().getBytes("UTF-8").length + "");
                    //urlConnection.setRequestProperty("uploaded_file", name);

                    dos = new DataOutputStream(urlConnection.getOutputStream());
                    dos.writeBytes(sb.toString());

                    // Responses from the server (message)
                    if (urlConnection.getResponseCode() == HttpsURLConnection.HTTP_OK) {
                        // Parse received json
                        BufferedReader br = new BufferedReader(new InputStreamReader((urlConnection.getInputStream())));
                        sb = new StringBuilder();
                        String output;

                        while ((output = br.readLine()) != null) {
                            sb.append(output);
                        }
                        JSONObject serverResponseMessage = new JSONObject(sb.toString());
                        String access_token = serverResponseMessage.getString(ApplicationConstants.ACCESS_TOKEN);
                        String refresh_token = serverResponseMessage.getString(ApplicationConstants.REFRESH_TOKEN);
                        // Replace access token and refresh token
                        SharedPreferences sPrefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());
                        SharedPreferences.Editor editor = sPrefs.edit();
                        editor.putString(ApplicationConstants.ACCESS_TOKEN, access_token);
                        editor.putString(ApplicationConstants.REFRESH_TOKEN, refresh_token);
                        editor.commit();

                        Log.d("MYINFO", "Oauth token received from Backend correctly");
                        Log.d("MYINFO", "Access_token: "+access_token);
                        Log.d("MYINFO", "Refresh_token: "+refresh_token);

                    }else{
                        Log.d("MYINFO", "response code received in reqAuthToken: " + urlConnection.getResponseCode());
                    }

                    // close the streams
                    dos.flush();
                    dos.close();

                } catch (Exception e) {
                    FileLogger.log("multipart post error " + e, context); // not sure if this is correct
                } finally {
                    urlConnection.disconnect();
                }
            } catch (IOException e) {
                FileLogger.log("IOException " + e, context);
            }
            return null;
        }
    }
}
